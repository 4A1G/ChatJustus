(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{78136:function(e,t,s){Promise.resolve().then(s.bind(s,7942))},7942:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return K}});var a=s(57437),l=s(2265),n=s(47854),i=s(79947);s(20105);var r=s(94494),o=s(60074),d=s(28414),c=s(15397),x=s(76222),h=s(9973),f=s(46802),u=s(6435),m=s(94256),p=s(62510);let j=()=>{let{theme:e,setTheme:t}=(0,u.F)();return(0,m.Av)(),(0,a.jsxs)(r.j,{backdrop:"opaque",children:[(0,a.jsx)(o.e,{content:"Set Theme",children:(0,a.jsxs)("div",{className:"max-w-fit",children:[" ",(0,a.jsx)(d.b,{children:(0,a.jsx)(c.A,{isIconOnly:!0,children:(0,a.jsx)(p.SK9,{})})})]})}),(0,a.jsx)(x.g,{children:(0,a.jsxs)("div",{className:"px-1 py-2",children:[(0,a.jsx)("div",{className:"text-small font-bold pb-3",children:"Set Theme"}),(0,a.jsx)(o.e,{content:"Light | System | Dark",showArrow:!0,children:(0,a.jsxs)(h.n,{"aria-label":"Options",fullWidth:!0,variant:"solid",selectedKey:e,onSelectionChange:e=>t(e),children:[(0,a.jsx)(f.r,{title:(0,a.jsx)(p.Mei,{className:"text-yellow-600"})},"light"),(0,a.jsx)(f.r,{title:(0,a.jsx)(p.kvo,{})},"system"),(0,a.jsx)(f.r,{title:(0,a.jsx)(p.TLr,{className:"text-blue-500"})},"dark")]})})]})})]})};var g=s(88962),y=s(80200),b=s(59948),v=s.n(b),w=s(88078),N=s(55481),S=s(46716),C=s(26071),k=s(26236);let O=e=>{let{trigger:t,tooltip:s,isOpen:l,setIsOpen:n,children:i,popoverProps:c,tooltipProps:h,className:f}=e;return(0,a.jsxs)(r.j,{isOpen:l,onOpenChange:n,...c,children:[s?(0,a.jsx)(o.e,{content:s,...h,children:(0,a.jsxs)("div",{className:"max-w-full ".concat(f),children:[" ",(0,a.jsx)(d.b,{children:t})]})}):(0,a.jsx)(d.b,{children:t}),(0,a.jsx)(x.g,{children:i})]})},T=e=>{let{onConfirm:t,tooltip:s,warning:n,confirm:i="Confirm",buttonProps:r,confirmProps:o,children:d}=e,[x,h]=(0,l.useState)(!1);return(0,a.jsx)(O,{isOpen:x,setIsOpen:h,tooltip:s,trigger:(0,a.jsx)(c.A,{...r,children:d}),children:(0,a.jsxs)("div",{className:"px-1 py-2 flex flex-col gap-2",children:[n||s&&(0,a.jsx)("div",{className:"mb-3 max-w-xs font-bold",children:s}),(0,a.jsx)(c.A,{color:"primary",onPress:()=>{h(!1),t()},...o,children:i})]})})};var L=s(71424);let z=e=>{let{gpt:t}=e,[s,n]=(0,l.useState)(!1);return(0,a.jsx)(O,{className:"grow",tooltip:"Load Chat from .json File",isOpen:s,setIsOpen:n,popoverProps:{backdrop:"blur"},trigger:(0,a.jsxs)(c.A,{size:"sm",fullWidth:!0,children:[(0,a.jsx)(p.n0A,{className:"flex-none"})," Load Chat"]}),children:(0,a.jsxs)("div",{className:"px-1 py-2",children:[(0,a.jsx)("div",{className:"text-small font-bold pb-3",children:"Load Chat from .json File"}),(0,a.jsx)("div",{className:"text-danger font-bold pb-3",children:"Warning: Your current chat history will be overwritten!"}),(0,a.jsx)("input",{type:"file",onChange:e=>{var s;let a=null===(s=e.target.files)||void 0===s?void 0:s[0];if(a){let e=new FileReader;e.onload=e=>{var s;let a=null===(s=e.target)||void 0===s?void 0:s.result;if(a)try{t.syncHistory(JSON.parse(a)),L.toast.success("Chat loaded!")}catch(e){L.toast.error("Invalid JSON!")}finally{n(!1)}},e.readAsText(a)}}})]})})},A=e=>{let{gpt:t,messages:s,showSystem:l,setShowSystem:n,className:i}=e;return(0,a.jsxs)("div",{className:"flex flex-col min-h-0 h-full ".concat(i||""),children:[(0,a.jsx)("div",{className:"w-full h-full flex flex-col overflow-auto",children:(0,a.jsx)(w.o,{children:"hello"})}),(0,a.jsxs)(C.x,{variant:"light",defaultExpandedKeys:["1","2"],children:[(0,a.jsxs)(C.n,{title:"Model Options",children:[(0,a.jsx)(k.q,{label:"model",selected:t.selectedModel,setSelected:t.syncSelectedModel,valList:t.modelList}),(0,a.jsx)(N.L,{size:"sm",minValue:0,maxValue:2,step:.1,value:t.temperature,onChange:t.setTemperature,onChangeEnd:t.syncTemperature,label:"Temperature"})]},"1"),(0,a.jsxs)(C.n,{title:"Chat Options",children:[(0,a.jsx)(S.i,{size:"sm",color:"primary",isSelected:l,onValueChange:n,children:"Show System Messages"}),(0,a.jsxs)("div",{className:"flex flex-row flex-wrap gap-2",children:[(0,a.jsxs)(c.A,{size:"sm",className:"grow",onClick:()=>{v()(JSON.stringify(s.history),"chat.json"),L.toast.success("Chat downloaded!")},children:[(0,a.jsx)(p.wZo,{className:"flex-none"})," Save Chat"]}),(0,a.jsx)(z,{gpt:t})]}),(0,a.jsxs)(T,{tooltip:"Reset chat history permanently",buttonProps:{fullWidth:!0,size:"sm"},onConfirm:()=>s.sendAction({type:"RESET_CHAT"}),children:[(0,a.jsx)(p.D_Y,{})," Reset Chat"]})]},"2")]})]})};var P=s(9566),E=s(15845),M=s(39213),R=s(91936),_=s(57042),V=s(74769);function W(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,V.m6)((0,_.W)(t))}let D=E.fC,F=E.xz;E.x8;let I=E.h_,Y=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(E.aV,{className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l,ref:t})});Y.displayName=E.aV.displayName;let G=(0,M.j)("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 dark:bg-slate-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),H=l.forwardRef((e,t)=>{let{side:s="right",className:l,children:n,...i}=e;return(0,a.jsxs)(I,{children:[(0,a.jsx)(Y,{}),(0,a.jsxs)(E.VY,{ref:t,className:W(G({side:s}),l),...i,children:[n,(0,a.jsxs)(E.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800",children:[(0,a.jsx)(R.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});H.displayName=E.VY.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(E.Dx,{ref:t,className:W("text-lg font-semibold text-slate-950 dark:text-slate-50",s),...l})}).displayName=E.Dx.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(E.dk,{ref:t,className:W("text-sm text-slate-500 dark:text-slate-400",s),...l})}).displayName=E.dk.displayName;let J=e=>{let{leftSidebar:t,children:s}=e,[n,i]=(0,l.useState)(!1),[r,o]=(0,l.useState)(window.innerWidth<640);return(0,l.useEffect)(()=>{function e(){o(window.innerWidth<640)}return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[r]),(0,a.jsx)("div",{className:"w-full h-full",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(D,{children:[(0,a.jsx)(F,{className:"absolute z-50 rounded-xl w-10 h-10 top-3 left-3 text-default-600 flex items-center justify-center bg-default-50/10 hover:bg-default-50 hover:scale-125 transition shadow-lg",children:(0,a.jsx)(p.Fm7,{})}),(0,a.jsx)(H,{side:"left",className:"p-0",children:t})]}),s]}):(0,a.jsxs)(P.oL,{proportionalLayout:!1,onChange:e=>{e.length>0&&i(e[0]>0)},children:[(0,a.jsx)(P.oL.Pane,{minSize:200,preferredSize:300,snap:!0,priority:P.g1.Low,visible:n,children:t}),(0,a.jsxs)(P.oL.Pane,{minSize:400,priority:P.g1.High,children:[(0,a.jsx)("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 z-50 w-4 h-8 rounded-full text-tiny text-default-600 flex items-center justify-center bg-default-50/10 hover:bg-default-50 hover:scale-125 transition shadow-lg",onClick:()=>i(!n),children:n?(0,a.jsx)(p.bUI,{}):(0,a.jsx)(p.Dli,{})}),s]})]})})};function K(){let[e,t]=(0,l.useState)(!1),s=(0,l.useContext)(i.hg),[r,o]=(0,l.useState)(!1),d=(0,n.M)("GPT",{modelList:[],selectedModel:"",temperature:1,runningTasks:[]}),c=(0,n.M)("MESSAGES",g.j0),x=(0,n.M)("DATA",{firstContactSummarySchema:{}});return(0,l.useEffect)(()=>(s&&(s.onConnectionChange=o),null==s?void 0:s.connect()),[]),(0,a.jsx)(y.R.Provider,{value:x,children:(0,a.jsx)(J,{leftSidebar:(0,a.jsxs)("div",{className:"flex flex-col content-between h-full bg-default-100",children:[(0,a.jsx)(A,{gpt:d,messages:c,showSystem:e,setShowSystem:t}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-between p-2 items-center bg-default-100",children:[(0,a.jsx)(j,{}),(0,a.jsx)("div",{className:"flex gap-2"})]})]}),children:(0,a.jsx)(g.en,{history:c.partial?[...c.history,c.partial]:c.history,onSend:e=>{d.startTask({type:"PROMPT",prompt:e})},onCancel:()=>{d.cancelTask({type:"PROMPT"})},isConnected:r,isGenerating:d.runningTasks.includes("PROMPT"),showSystem:e})})})}}},function(e){e.O(0,[306,954,409,125,714,836,408,971,938,744],function(){return e(e.s=78136)}),_N_E=e.O()}]);