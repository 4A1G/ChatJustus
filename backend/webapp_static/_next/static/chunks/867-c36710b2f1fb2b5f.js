"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{80200:function(e,t,s){s.d(t,{R:function(){return n}});let n=(0,s(2265).createContext)({})},26071:function(e,t,s){s.d(t,{x:function(){return a},n:function(){return i.G}});var n=s(57437),l=s(2265),r=s(46720),i=s(87427);let a=(0,l.forwardRef)(function(e,t){var s;let{selectionMode:l="multiple",defaultExpandedKeys:i=[],variant:a="shadow",color:o,showDivider:c=!1,className:d="",itemClasses:u={},children:h,id:x,...m}=e,f=o?"text-".concat(o,"-foreground"):"text-primary/100";return(0,n.jsx)(r.d,{id:x,ref:t,selectionMode:l,defaultExpandedKeys:i,variant:a,showDivider:c,className:"p-2 flex flex-col gap-1 w-full ".concat(o?"bg-".concat(o):"bg-default-50"," ").concat(d),itemClasses:Object.keys(s={base:"py-0 w-full",title:"font-normal text-medium ".concat(f),trigger:"px-2 py-0 hover:bg-default-200 rounded-lg h-12 flex items-center",indicator:"text-medium ".concat(f),content:"text-small ".concat(o?"text-".concat(o,"-foreground"):"text-default-foreground"," px-2 py-2 flex flex-col gap-2")}).reduce((e,t)=>(e[t]="".concat(s[t]," ").concat(u[t]||"").trim(),e),{}),...m,children:h})})},26236:function(e,t,s){s.d(t,{q:function(){return i}});var n=s(57437);s(2265);var l=s(39508),r=s(19174);let i=e=>{let{selected:t,setSelected:s,valList:i,classNames:a,...o}=e,c={...a,trigger:"".concat((null==a?void 0:a.trigger)||"")};return(0,n.jsx)(l.g,{labelPlacement:"inside",selectionMode:"single",disallowEmptySelection:!!t,selectedKeys:t?[t]:void 0,onSelectionChange:e=>{s(e.values().next().value)},items:i.map(e=>({val:e})),classNames:c,...o,children:e=>(0,n.jsx)(r.R,{children:e.val},e.val)})}},88962:function(e,t,s){s.d(t,{en:function(){return K},j0:function(){return _}});var n=s(57437),l=s(2265),r=s(78172),i=s(40744),a=s(62510),o=s(74466),c=s(41077),d=s(84068),u=s(15397),h=s(51737),x=s(93931),m=s(26236);function f(e){let{children:t,className:s,hasMoveUp:l,hasMoveDown:r,hasRemove:i,readonly:o,...c}=e;return(0,n.jsxs)("div",{className:"flex flex-row gap-1 items-center justify-between",children:[(0,n.jsx)("div",{className:"grow [&_.control-label]:hidden",children:t}),!o&&(0,n.jsxs)(h.g,{children:[(0,n.jsx)(u.A,{isIconOnly:!0,size:"sm",isDisabled:!l||o,onClick:c.onReorderClick(c.index,c.index-1),children:(0,n.jsx)(a.$Pg,{})}),(0,n.jsx)(u.A,{isIconOnly:!0,size:"sm",isDisabled:!r||o,onClick:c.onReorderClick(c.index,c.index+1),children:(0,n.jsx)(a.iUH,{})}),(0,n.jsx)(u.A,{isIconOnly:!0,size:"sm",isDisabled:!i||o,onClick:c.onDropIndexClick(c.index),children:(0,n.jsx)(a.iFH,{})})]})]})}let g=(0,d.Zz)({widgets:{SelectWidget:e=>{var t;let{id:s,label:l,placeholder:r,required:i,value:a,readonly:o,onChange:c,options:d}=e;return(0,n.jsx)(m.q,{id:s,label:null,labelPlacement:"outside",placeholder:r,isRequired:i,isDisabled:o,selected:a,setSelected:c,valList:(null===(t=d.enumOptions)||void 0===t?void 0:t.map(e=>e.value))||[]})},TextWidget:e=>{var t;let{id:s,label:l,placeholder:r,required:i,value:a,readonly:o,onChange:c,rawErrors:d}=e;return(0,n.jsx)(x.Y,{id:s,isRequired:i,value:a,placeholder:r,isDisabled:o,onChange:e=>c(e.target.value),minRows:1,maxRows:10,isInvalid:(null!==(t=null==d?void 0:d.length)&&void 0!==t?t:0)>0,errorMessage:d})}},templates:{ArrayFieldTemplate:function(e){var t;let{items:s,canAdd:l,onAddClick:r,readonly:i,rawErrors:o,...c}=e;return(0,n.jsx)("div",{className:"",children:(0,n.jsxs)("div",{className:"flex flex-col gap-1 pl-2 border-l-1 border-primary/100",children:[s.map(e=>{let{key:t,...s}=e;return(0,n.jsx)(f,{...s},t)}),l&&!i&&(0,n.jsx)(u.A,{fullWidth:!0,size:"sm",onClick:r,children:(0,n.jsx)(a.wEH,{})}),(null!==(t=null==o?void 0:o.length)&&void 0!==t?t:0)>0&&(0,n.jsx)("div",{className:"text-red-500",children:JSON.stringify(o)})]})})},FieldTemplate:function(e){let{id:t,classNames:s,style:l,label:r,help:i,required:a,description:o,errors:c,children:d}=e;return(0,n.jsxs)("div",{className:"",style:l,children:[o,(0,n.jsx)("div",{className:"",children:d}),c,i]})},ObjectFieldTemplate:function(e){let t=e=>e.replace(/^[-_]*(.)/,(e,t)=>t.toUpperCase()).replace(/[-_]+(.)/g,(e,t)=>" "+t.toUpperCase());return(0,n.jsx)("div",{children:e.properties.map((e,s)=>(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("div",{className:"text-xs font-bold text-primary/100 mb-1",children:t(e.name)}),e.content]},s))})},DescriptionFieldTemplate:function(e){let{description:t,id:s}=e;return null},ButtonTemplates:{SubmitButton:function(e){let{uiSchema:t}=e,{norender:s}=(0,c.rF)(t);return s?null:(0,n.jsx)(u.A,{type:"submit",color:"primary",children:"Submit"})}}}});var p=s(32695),v=s(64586),j=s(31835),y=s(21507),b=s(94042),w=s(12765),N=s(26071),C=s(46584),S=s(55357),E=s(35041),k=s(81415);s(68128);let T=e=>{let{className:t,children:s,...l}=e;return(0,n.jsx)("div",{className:"overflow-auto prose dark:prose-invert prose-neutral max-w-none prose-pre:max-w-full prose-code:before:hidden prose-code:after:hidden ".concat(null!=t?t:""),children:(0,n.jsx)(C.U,{remarkPlugins:[S.Z,k.Z],rehypePlugins:[E.Z],...l,children:s})})};var A=s(80200),R=s(71424);let _={history:[],partial:null},I=e=>{let{tool_call:t,i:s}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)(T,{children:"```json\n".concat((0,i.js_beautify)(t.function.arguments,{indent_size:2}),"\n```")}),t.result?(0,n.jsx)(T,{children:"**Result:** `".concat(t.result,"`")}):null]})},O=e=>{let{tool_call:t,i:s}=e,{summarySchema:r,summary:i,setSummary:c,chatEnded:d,sendAction:h}=(0,l.useContext)(A.R),x=null;try{x=JSON.parse(t.function.arguments)}catch(e){x=null}return(0,n.jsx)("div",{children:x&&(0,n.jsx)(g,{schema:r,formData:{...x,...i},validator:o.ZP,readonly:d,onChange:e=>c(e.formData),onSubmit:e=>{h({type:"SUMMARY_SUBMITTED",...e.formData}),R.toast.info("Sending legal inquiry...")},children:d?(0,n.jsxs)(u.A,{type:"button",color:"success",className:"font-sans",onClick:()=>R.toast.success("Your inquiry has already been sent. ".concat(i.lawyer||"Your lawyer"," will contact you soon!")),children:[(0,n.jsx)(a.l_A,{})," Legal Inquiry Sent"]}):(0,n.jsxs)(u.A,{type:"submit",color:"primary",className:"font-sans",children:[(0,n.jsx)(a.Y2X,{})," Send Legal Inquiry"]})})})},H=e=>{let{tool_call:t,i:s}=e;return(0,n.jsx)("div",{})},L=e=>{switch(e){case"summarize_first_contact":return["Legal Inquiry to Lawyer",O];case"end_chat":return["Finished",H];default:return[e,I]}},M=e=>{let{message:t}=e;return(0,n.jsx)(N.x,{defaultExpandedKeys:t.tool_calls.reduce((e,t,s)=>(e.push(String(s)),e),[]),showDivider:!0,variant:"bordered",className:"font-serif",children:t.tool_calls.map((e,t)=>{let[s,l]=L(e.function.name);return(0,n.jsx)(N.n,{title:"".concat(s),startContent:(0,n.jsx)("div",{className:"flex justify-center w-5 h-5",children:e.result?(0,n.jsx)(a.ETl,{className:"text-primary/100 text-lg"}):(0,n.jsx)(p.c,{color:"primary",size:"sm"})}),children:(0,n.jsx)(l,{tool_call:e,i:t})},String(t))})})},z=e=>{let{role:t,className:s}=e;switch(t){case"user":return(0,n.jsx)(v.h,{className:"".concat(s," text-primary/100"),showFallback:!0});case"assistant":return(0,n.jsx)(v.h,{className:s,src:"/avatar_bg_none.png"});case"system":return(0,n.jsx)(v.h,{className:s,name:"S"});default:return(0,n.jsx)(v.h,{className:s,name:"?"})}},D={user:"bg-default/50",assistant:"bg-default/50",system:"bg-primary/50"},F={user:"",assistant:"backdrop-saturate-200",system:""},q=e=>{let{messageGroup:t,className:s}=e,l=D[t[0].role],i=F[t[0].role];return(0,n.jsx)(r.E.div,{className:"rounded-3xl ".concat(i),animate:{opacity:1,y:0},initial:{opacity:0,y:50},children:(0,n.jsx)(j.w,{className:"rounded-3xl ".concat(l," shadow-md ").concat(null!=s?s:""),children:(0,n.jsxs)(y.G,{className:"flex flex-row p-0",children:[(0,n.jsx)(z,{className:"flex-none m-3 ",role:t[0].role}),(0,n.jsx)("div",{className:"min-w-0 w-full flex flex-col gap-2 p-4 pl-0",children:t.map((e,t)=>{var s,l,r;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T,{children:null===(s=e.content)||void 0===s?void 0:s.replaceAll("\n","  \n")}),(null!==(r=null===(l=e.tool_calls)||void 0===l?void 0:l.length)&&void 0!==r?r:0)>0?(0,n.jsx)(M,{message:e}):null]})})})]})})})},P=e=>{let{onSend:t,onCancel:s,isGenerating:r,className:i}=e,[o,c]=(0,l.useState)(""),[d,h]=(0,l.useState)(0),m=()=>{""===o.trim()||r||(t(o),c(""))};return(0,n.jsxs)("div",{className:"flex flex-row items-center justify-center border bg-default-50 rounded-3xl focus:outline-none resize-none shadow-lg backdrop-blur-sm overflow-y-visible ".concat(i),children:[(0,n.jsx)(x.Y,{value:o,onValueChange:c,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},variant:"underlined",className:"ml-5",placeholder:"Type your message...",minRows:1,maxRows:15,onHeightChange:h}),(0,n.jsx)(u.A,{isIconOnly:!0,onClick:r?s:m,color:r?"danger":"primary",className:"m-2 px-4 py-2 rounded-3xl shadow-lg hover:scale-[1.2] hover:bg-current/100",style:{height:d+10},children:r?(0,n.jsx)(a.JuG,{className:"text-2xl"}):(0,n.jsx)(a.KvO,{className:"text-2xl"})})]})},K=e=>{let{history:t,onSend:s,onCancel:r,isConnected:i,isGenerating:o,showSystem:c}=e,d=(0,l.useRef)(null),u=(0,l.useRef)(null),[h,x]=(0,l.useState)(!0),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=u.current;s&&(t||h)&&(console.log("scrolling to bottom"),s.scrollIntoView({behavior:e,block:"end",inline:"nearest"}))};(0,l.useEffect)(()=>{if(!d.current){console.log("chatRef.current is null");return}let e=d.current;x(50>=Math.abs(e.scrollHeight-(e.scrollTop+e.clientHeight)))}),(0,l.useEffect)(()=>m(),[t]),(0,l.useEffect)(()=>(window.addEventListener("resize",()=>{m()}),()=>window.removeEventListener("resize",()=>{})),[]);let f=(0,l.useMemo)(()=>{let{msgs:e,tools:s}=t.reduce((e,t,s)=>{let{msgs:n,tools:l}=e;return"tool"==t.role?l[t.tool_call_id]=t.content:n.push(t),{msgs:n,tools:l}},{msgs:[],tools:{}}),n=[];return e.forEach((t,l)=>{if("tool"!=t.role){if("assistant"==(t={...t}).role){var r;t.tool_calls=null===(r=t.tool_calls)||void 0===r?void 0:r.map(e=>({...e,result:s[e.id]}))}0==l||t.role!=e[l-1].role?n.push([t]):n[n.length-1].push(t)}}),n},[t]);return(0,n.jsxs)("div",{className:"w-full h-full px-2 flex flex-col overflow-y-scroll",ref:d,onScroll:e=>{let t=e.target;x(50>=Math.abs(t.scrollHeight-(t.scrollTop+t.clientHeight)))},children:[(0,n.jsx)("div",{className:"flex-initial h-screen flex flex-col",children:(0,n.jsxs)(j.w,{className:"my-10 p-3 self-center max-w-lg bg-default/50 backdrop-saturate-200 shadow-md",children:[(0,n.jsxs)(b.u,{className:"justify-center",children:[(0,n.jsx)(z,{className:"mr-3",role:"assistant"}),(0,n.jsx)("h1",{className:"text-2xl text-primary/100 font-serif",children:"Welcome to ChatJustus!"})]}),(0,n.jsx)(y.G,{children:(0,n.jsx)(T,{className:"leading-5",children:"\nDo you have any legal questions? I can help you with:\n- Answering your questions about the law\n- Your legal situation\n- Finding Lawyers at *Sterling Legal Associates*, specialized for your case\n- Forwarding your case to the lawyer\n\n*For your privacy, this conversation will **not be saved**, and only the final inquiry you send will be forwarded to the lawyer.*\n              "})}),(0,n.jsx)(w.i,{className:"justify-center",children:(0,n.jsxs)("p",{className:"text-xs text-primary/100 font-sans",children:["Made with ",(0,n.jsx)(a.$0H,{className:"inline-block"})," by Team 4A1G"]})})]})}),(0,n.jsx)("div",{className:"flex flex-col gap-2 px-2 my-8 self-center w-full max-w-3xl",children:f.map((e,t)=>"system"!==e[0].role||c?(0,n.jsx)(q,{messageGroup:e,className:""},t):null)}),(0,n.jsxs)("div",{className:"sticky bottom-0 self-center pb-5 px-2 w-full max-w-3xl",children:[!h&&(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("button",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 w-12 h-8 rounded-full text-tiny text-default-600 border border-default-600 flex items-center justify-center backdrop-blur-sm bg-default-50/10 hover:bg-primary hover:scale-125 transition shadow-lg",onClick:()=>{m("smooth",!0)},children:(0,n.jsx)(a.DcT,{})})}),i?(0,n.jsx)(P,{onSend:e=>{x(!0),s(e)},onCancel:r,isGenerating:o}):(0,n.jsx)(j.w,{className:"bg-danger rounded-3xl shadow-md backdrop-blur-sm",children:(0,n.jsxs)(y.G,{className:"flex flex-row gap-5 items-center",children:[(0,n.jsx)(p.c,{color:"default"}),(0,n.jsx)("p",{className:"text-danger-foreground",children:"Connecting to the server..."})]})})]}),(0,n.jsx)("div",{ref:u,className:"h-0 invisible"})]})}},18644:function(e,t,s){s.d(t,{B:function(){return w}});var n=s(57437),l=s(59948),r=s.n(l),i=s(15397),a=s(88078),o=s(55481),c=s(46716),d=s(26071),u=s(26236),h=s(62510),x=s(94494),m=s(60074),f=s(28414),g=s(28193),p=s(2265);let v=e=>{let{trigger:t,tooltip:s,isOpen:l,setIsOpen:r,children:i,popoverProps:a,tooltipProps:o,className:c}=e;return(0,n.jsxs)(x.j,{isOpen:l,onOpenChange:r,...a,children:[s?(0,n.jsx)(m.e,{content:s,...o,children:(0,n.jsxs)("div",{className:"max-w-full ".concat(c),children:[" ",(0,n.jsx)(f.b,{children:t})]})}):(0,n.jsx)(f.b,{children:t}),(0,n.jsx)(g.g,{children:i})]})},j=e=>{let{onConfirm:t,tooltip:s,warning:l,confirm:r="Confirm",buttonProps:a,confirmProps:o,children:c}=e,[d,u]=(0,p.useState)(!1);return(0,n.jsx)(v,{isOpen:d,setIsOpen:u,tooltip:s,trigger:(0,n.jsx)(i.A,{...a,children:c}),popoverProps:{backdrop:"blur"},children:(0,n.jsxs)("div",{className:"px-1 py-2 flex flex-col gap-2",children:[l||s&&(0,n.jsx)("div",{className:"mb-3 max-w-xs font-bold",children:s}),(0,n.jsx)(i.A,{color:"primary",onPress:()=>{u(!1),t()},...o,children:r})]})})};var y=s(71424);let b=e=>{let{messages:t}=e,[s,l]=(0,p.useState)(!1);return(0,n.jsx)(v,{className:"grow",tooltip:"Load Chat from .json File",isOpen:s,setIsOpen:l,popoverProps:{backdrop:"blur"},trigger:(0,n.jsxs)(i.A,{fullWidth:!0,children:[(0,n.jsx)(h.n0A,{className:"flex-none"})," Load Chat"]}),children:(0,n.jsxs)("div",{className:"px-1 py-2",children:[(0,n.jsx)("div",{className:"text-small font-bold pb-3",children:"Load Chat from .json File"}),(0,n.jsx)("div",{className:"text-danger font-bold pb-3",children:"Warning: Your current chat history will be overwritten!"}),(0,n.jsx)("input",{type:"file",onChange:e=>{var s;let n=null===(s=e.target.files)||void 0===s?void 0:s[0];if(n){let e=new FileReader;e.onload=e=>{var s;let n=null===(s=e.target)||void 0===s?void 0:s.result;if(n)try{t.syncHistory(JSON.parse(n)),y.toast.success("Chat loaded!")}catch(e){y.toast.error("Error loading chat: ".concat(e))}finally{l(!1)}},e.readAsText(n)}}})]})})},w=e=>{let{gpt:t,messages:s,showSystem:l,setShowSystem:x,className:m}=e;return(0,n.jsxs)("div",{className:"flex flex-col min-h-0 h-full".concat(m||""),children:[(0,n.jsx)("div",{className:"p-4 text-xl text-primary/100 font-bold font-serif",children:"Your Case Timeline"}),(0,n.jsx)("div",{className:"w-full h-full flex flex-col overflow-auto",children:(0,n.jsx)(a.o,{children:(0,n.jsxs)("div",{className:"flex flex-col gap-3 m-3 mt-0",children:[[["1st Meeting on 02.10.2023","Your first meeting with Sofia"],["2nd Meeting on 17.10.2023","Agreeing on the terms of the divorce"],["3rd Meeting on 01.11.2023","Finalizing the divorce papers"],["4th Meeting on 15.11.2023","Emergency meeting with Sofia"]].map(e=>{let[t,s]=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col bg-default-50 rounded-lg p-3",children:[(0,n.jsx)("div",{className:"text-xs text-default-700",children:t}),(0,n.jsx)("div",{className:"font-serif",children:s})]})})}),(0,n.jsxs)("div",{className:"flex flex-col bg-default-50 border-primary border-4 rounded-lg p-3 -m-1",children:[(0,n.jsx)("div",{className:"text-xs text-primary-700/100",children:"5th Meeting Today"}),(0,n.jsx)("div",{className:"text-primary/100 font-serif font-bold",children:"Signing the papers"})]})]})})}),(0,n.jsxs)(d.x,{variant:"light",defaultExpandedKeys:["1","2"],children:[(0,n.jsxs)(d.n,{title:"Model Options",children:[(0,n.jsx)(u.q,{label:"model",selected:t.selectedModel,setSelected:t.syncSelectedModel,valList:t.modelList}),(0,n.jsx)(o.L,{size:"sm",minValue:0,maxValue:2,step:.1,value:t.temperature,onChange:t.setTemperature,onChangeEnd:t.syncTemperature,label:"Temperature"})]},"1"),(0,n.jsxs)(d.n,{title:"Chat Options",children:[(0,n.jsx)(c.i,{size:"md",color:"primary",isSelected:l,onValueChange:x,children:"Show System Messages"}),(0,n.jsxs)("div",{className:"flex flex-row flex-wrap gap-2",children:[(0,n.jsxs)(i.A,{className:"grow",onClick:()=>{r()(JSON.stringify(s.history),"chat.json"),y.toast.success("Chat downloaded!")},children:[(0,n.jsx)(h.wZo,{className:"flex-none"})," Save Chat"]}),(0,n.jsx)(b,{messages:s})]}),(0,n.jsxs)(j,{tooltip:"Reset chat history permanently",buttonProps:{fullWidth:!0},onConfirm:()=>s.sendAction({type:"RESET_CHAT"}),children:[(0,n.jsx)(h.D_Y,{})," Reset Chat"]})]},"2")]})]})}},2203:function(e,t,s){s.d(t,{C:function(){return u}});var n=s(57437),l=s(9566),r=s(2265),i=s(62510),a=s(91609),o=s(89605),c=s(69571),d=s(88078);let u=e=>{let{leftSidebar:t,children:s}=e,[u,h]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!0);function f(){m(window.innerWidth<640)}return(0,r.useEffect)(()=>(f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}),[]),(0,r.useEffect)(()=>{f()},[x]),(0,n.jsx)("div",{className:"w-full h-full",children:x?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"absolute z-50 rounded-xl w-10 h-10 top-4 left-4 text-default-600 flex items-center justify-center border border-default-600 bg-default-50/10 hover:bg-default-50 hover:scale-125 transition backdrop-blur-sm shadow-lg",onClick:()=>h(!u),children:(0,n.jsx)(i.Fm7,{})}),(0,n.jsx)(a.R,{className:"overflow-hidden bg-default-100",isOpen:u,onOpenChange:h,scrollBehavior:"inside",backdrop:"blur",children:(0,n.jsx)(o.A,{children:(0,n.jsx)(c.I,{className:"p-0",children:(0,n.jsx)(d.o,{children:t})})})}),s]}):(0,n.jsxs)(l.oL,{proportionalLayout:!1,onChange:e=>{e.length>0&&h(e[0]>0)},children:[(0,n.jsx)(l.oL.Pane,{minSize:200,preferredSize:300,snap:!0,priority:l.g1.Low,visible:u,className:"bg-default-100",children:t}),(0,n.jsxs)(l.oL.Pane,{minSize:400,priority:l.g1.High,children:[(0,n.jsx)("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 z-50 w-4 h-8 rounded-full text-tiny text-default-600 flex items-center justify-center bg-default-50/10 hover:bg-default-50 hover:scale-125 transition shadow-lg",onClick:()=>h(!u),children:u?(0,n.jsx)(i.bUI,{}):(0,n.jsx)(i.Dli,{})}),s]})]})})}},6137:function(e,t,s){s.d(t,{R:function(){return m}});var n=s(57437),l=s(94494),r=s(60074),i=s(28414),a=s(15397),o=s(28193),c=s(9973),d=s(46802),u=s(6435),h=s(94256),x=s(62510);let m=()=>{let{theme:e,setTheme:t}=(0,u.F)();return(0,h.Av)(),(0,n.jsxs)(l.j,{backdrop:"opaque",children:[(0,n.jsx)(r.e,{content:"Set Theme",children:(0,n.jsxs)("div",{className:"max-w-fit",children:[" ",(0,n.jsx)(i.b,{children:(0,n.jsx)(a.A,{isIconOnly:!0,children:(0,n.jsx)(x.SK9,{})})})]})}),(0,n.jsx)(o.g,{children:(0,n.jsxs)("div",{className:"px-1 py-2",children:[(0,n.jsx)("div",{className:"text-small font-bold pb-3",children:"Set Theme"}),(0,n.jsx)(r.e,{content:"Light | System | Dark",showArrow:!0,children:(0,n.jsxs)(c.n,{"aria-label":"Options",fullWidth:!0,variant:"solid",selectedKey:e,onSelectionChange:e=>t(e),children:[(0,n.jsx)(d.r,{title:(0,n.jsx)(x.Mei,{className:"text-yellow-600"})},"light"),(0,n.jsx)(d.r,{title:(0,n.jsx)(x.kvo,{})},"system"),(0,n.jsx)(d.r,{title:(0,n.jsx)(x.TLr,{className:"text-blue-500"})},"dark")]})})]})})]})}},36826:function(e,t,s){s.d(t,{U:function(){return a},hg:function(){return i}});var n=s(57437),l=s(2265),r=s(71424);let i=(0,l.createContext)(null),a=e=>{let{url:t,children:s}=e,r=(0,l.useMemo)(()=>new o(t),[t]);return(0,l.useEffect)(()=>()=>{r.disconnect()},[t,r]),(0,n.jsx)(i.Provider,{value:r,children:s})};class o{registerEvent(e,t){if(e in this.eventHandlers)throw Error("already subscribed to ".concat(e));this.eventHandlers[e]=t}deregisterEvent(e){if(!(e in this.eventHandlers))throw Error("not subscribed to ".concat(e));delete this.eventHandlers[e]}registerInit(e,t){if(e in this.initHandlers)throw Error("already registered");this.initHandlers[e]=t}deregisterInit(e){if(!(e in this.initHandlers))throw Error("not registered");delete this.initHandlers[e]}send(e,t){this.isConnected&&this.ws.send(JSON.stringify({type:e,data:t}))}connect(){return console.log("connecting to ",this.url),r.toast.info("Connecting to server..."),this.ws=new WebSocket(this.url),this.autoReconnect=!0,this.ws.onopen=()=>{console.log("connected"),r.toast.success("Connected to server!"),this.isConnected=!0,this.onConnectionChange&&this.onConnectionChange(this.isConnected),this.retryInterval=this.minRetryInterval},this.ws.onclose=()=>{console.log("disconnected"),this.isConnected=!1,this.onConnectionChange&&this.onConnectionChange(this.isConnected),this.autoReconnect?(r.toast.warning("Disconnected from server: Retrying in ".concat(this.retryInterval/1e3," seconds...")),this.retryTimeout=setTimeout(()=>{this!==null&&this.url&&!this.isConnected&&(console.log("reconnecting"),this.connect())},this.retryInterval),this.retryInterval=Math.min(2*this.retryInterval,this.maxRetryInterval)):r.toast.warning("Disconnected from server!")},this.ws.onerror=e=>{console.error("Socket encountered error: ",e,"Closing socket"),r.toast.error("Socket Error: ".concat(e)),this.ws.close()},this.ws.onmessage=e=>{this.handleReceiveEvent(e)},()=>{this.disconnect()}}disconnect(){var e;this.autoReconnect=!1,null===(e=this.ws)||void 0===e||e.close(),this.onConnectionChange&&this.onConnectionChange(!1),null!==this.ws&&(this.ws.onopen=null,this.ws.onclose=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws=null),null!==this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=null)}handleReceiveEvent(e){let t=JSON.parse(e.data);t.type in this.eventHandlers?this.eventHandlers[t.type](t.data):console.log("unhandled event: ".concat(t.type))}constructor(e,t=250,s=1e4){this.ws=null,this.isConnected=!1,this.onConnectionChange=void 0,this.eventHandlers={},this.initHandlers={},this.retryTimeout=null,this.autoReconnect=!0,this.url=e,this.minRetryInterval=t,this.maxRetryInterval=s,this.retryInterval=t}}},37931:function(e,t,s){s.d(t,{$:function(){return i}});var n=s(2265),l=s(71424),r=s(36826);let i=()=>{let e=(0,n.useContext)(r.hg);(0,n.useEffect)(()=>(null==e||e.registerEvent("_TOAST",e=>{let{message:t,type:s}=e;switch(s){case"default":default:(0,l.toast)(t);break;case"message":l.toast.message(t);break;case"success":l.toast.success(t);break;case"info":l.toast.info(t);break;case"warning":l.toast.warning(t);break;case"error":l.toast.error(t)}}),()=>null==e?void 0:e.deregisterEvent("_TOAST")),[])}},9627:function(e,t,s){s.d(t,{M:function(){return x}});var n=s(2265),l=s(85242),r=s(36826),i=s(27173);(0,i.vI)();let a=e=>"_SET:"+e,o=e=>"_GET:"+e,c=e=>"_PATCH:"+e,d=e=>"_ACTION:"+e,u=e=>"_TASK_START:"+e,h=e=>"_TASK_CANCEL:"+e;function x(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],[x,m]=function(e,t,s){let x=arguments.length>3&&void 0!==arguments[3]&&arguments[3],m=(0,n.useContext)(r.hg),f=t=>{null==m||m.send(a(e),t)},g=t=>{null==m||m.send(c(e),t)},p=t=>{null==m||m.send(d(e),t)},v=(0,n.useMemo)(()=>Object.keys(s).reduce((e,t)=>{let s=t.charAt(0).toUpperCase()+t.slice(1);return e["set".concat(s)]=e=>{N([{op:"replace",path:"/".concat(t),value:e}])},e["sync".concat(s)]=e=>{let s=[{op:"replace",path:"/".concat(t),value:e}];N(s),g(s)},e},{}),[s]),[[j,y],b]=(0,n.useReducer)((s,n)=>{let[r,o]=s;switch(n.type){case a(e):return[n.data,[]];case c(e):return[n.data.reduce(l.E5,(0,l.I8)(r)),[]];default:{if(!t)return[r,[]];let e=[],[s,l,a]=(0,i.aS)(t)((0,i.Sd)(r),n,()=>{e.push(e=>()=>{e.length>0&&(console.log("syncing",e),e.forEach(e=>{Array.isArray(e.path)&&(e.path=e.path.join("/")),e.path.startsWith("/")||(e.path="/"+e.path)}),g(e))})},t=>{e.push(e=>()=>{p(null!=t?t:n)})});return[s,e.map(e=>e(l))]}}},[s,[]]);(0,n.useEffect)(()=>{y.forEach(e=>e()),y.splice(0,y.length)});let w=t=>{b({type:a(e),data:t})},N=t=>{b({type:c(e),data:t})},C=e=>{b(e)};return(0,n.useEffect)(()=>(null==m||m.registerEvent(o(e),()=>f(j)),null==m||m.registerEvent(a(e),w),null==m||m.registerEvent(c(e),N),null==m||m.registerEvent(d(e),C),x&&(null==m||m.registerInit(e,()=>f(j))),()=>{null==m||m.deregisterEvent(o(e)),null==m||m.deregisterEvent(a(e)),null==m||m.deregisterEvent(c(e)),null==m||m.deregisterEvent(d(e)),x&&(null==m||m.deregisterInit(e))}),[m,e]),[{...j,...v,sendAction:p,startTask:t=>{null==m||m.send(u(e),t)},cancelTask:t=>{null==m||m.send(h(e),t)}},b]}(e,void 0,t,s);return x}}}]);